<div class="example-dialog-content">
  <h4>Example Dialog Form</h4>
  <p>
    Edit the form data below and click Submit to see the results in the console.
    The departments listbox showcases dynamic data that updates every 5 seconds
    with new options.
  </p>

  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="form-fields">
      <i-input-text
        label="Message"
        formControlName="message"
        placeholder="Enter your message"
        [fluid]="true"
      >
      </i-input-text>

      <i-input-text
        label="User"
        formControlName="user"
        placeholder="Enter user name"
        type="text"
        [fluid]="true"
      >
      </i-input-text>

      <i-listbox
        label="Departments (Reactive Forms + Observable)"
        [options]="departmentOptions$ | async"
        optionLabel="name"
        optionValue="id"
        formControlName="selectedDepartments"
        [multiple]="true"
        [filter]="true"
        [showClear]="true"
        [maxSelectedLabels]="2"
        selectedItemsLabel="{0} departments selected"
      >
      </i-listbox>
    </div>
  </form>

  <div
    class="demo-info"
    style="
      margin-top: 1rem;
      padding: 1rem;
      background: #f5f5f5;
      border-radius: 4px;
      font-size: 0.9rem;
    "
  >
    <strong>Dynamic Data Demo:</strong> New departments are added every 5
    seconds to showcase observable data updates. <br /><strong
      >Form Value:</strong
    >
    {{ form.get("selectedDepartments")?.value | json }} <br /><strong
      >Form Valid:</strong
    >
    {{ form.valid }} <br /><strong>Available Options:</strong>
    {{ (departmentOptions$ | async)?.length || 0 }}
  </div>

  <p>You can close this dialog by:</p>
  <ul>
    <li>Clicking the X button</li>
    <li>Pressing Escape</li>
    <li>Clicking outside the dialog</li>
    <li>Clicking Cancel or Submit</li>
  </ul>
</div>
<div slot="footer">
  <i-dialog-actions
    (cancelEvent)="onHide()"
    (submitEvent)="onSubmit()"
  ></i-dialog-actions>
</div>
