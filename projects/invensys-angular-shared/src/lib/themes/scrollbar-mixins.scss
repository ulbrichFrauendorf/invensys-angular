@use "./color-variables.scss" as colors;

// Mixin for consistent thin scrollbars across components
@mixin thin-scrollbar() {
  // Webkit browsers (Chrome, Safari, Edge)
  &::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  &::-webkit-scrollbar-track {
    background: transparent;
    border-radius: 3px;
  }

  &::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 3px;
    transition: background 0.2s ease;

    &:hover {
      background: rgba(0, 0, 0, 0.35);
    }

    &:active {
      background: rgba(0, 0, 0, 0.5);
    }
  }

  &::-webkit-scrollbar-corner {
    background: transparent;
  }

  // Firefox
  scrollbar-width: thin;
  scrollbar-color: rgba(0, 0, 0, 0.2) transparent;

  // Smooth scrolling
  scroll-behavior: smooth;
}

// Theme-aware scrollbar mixin
@mixin themed-scrollbar() {
  @include thin-scrollbar();

  // Override default colors with theme colors
  &::-webkit-scrollbar-thumb {
    background: colors.$color-text-secondary;
    opacity: 0.4;

    &:hover {
      background: colors.$color-text-primary;
      opacity: 0.6;
    }

    &:active {
      background: colors.$color-primary;
      opacity: 0.7;
    }
  }

  // Firefox with theme colors
  scrollbar-color: colors.$color-text-secondary transparent;
}

// Scrollbar for dropdown/overlay components
@mixin dropdown-scrollbar() {
  @include themed-scrollbar();

  // Additional styling for dropdown contexts
  &::-webkit-scrollbar {
    width: 6px; // Slightly wider for better visibility
    height: 6px;
  }

  &::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.05); // Subtle track background
    border-radius: 3px;
    margin: 2px 0; // Add margin to prevent cutoff
  }

  &::-webkit-scrollbar-thumb {
    border-radius: 3px;
    min-height: 20px; // Ensure minimum thumb size

    // More visible colors for dropdowns
    background: colors.$color-text-secondary;
    opacity: 0.6;

    &:hover {
      background: colors.$color-text-primary;
      opacity: 0.8;
    }

    &:active {
      background: colors.$color-primary;
      opacity: 0.9;
    }
  }

  // Better Firefox scrollbar visibility
  scrollbar-width: thin;
  scrollbar-color: colors.$color-text-secondary rgba(0, 0, 0, 0.05);
}
